# Session: v0.1.5 Game Rebalancing

**Date:** 2025-10-31
**Session Type:** /1:1 with gamey-boi
**Status:** Design Complete, Ready for Implementation

## Overview

Complete redesign of core game progression systems for v0.1.5, focusing on:

- RPG stat training with EXP-based leveling
- Character EXP economy (universal currency)
- Upgrade tree restructuring
- Idle vs Active balance
- Pre-retreat progression curve (levels 1-4)

---

## Core Design Decisions

### 1. Stat Training System Redesign

**Current (v0.1.4):** Training completion gives +1 stat level instantly.
**New (v0.1.5):** Training completion gives stat EXP, levels require accumulated EXP.

**Stat EXP Curve:**

- Formula: `statExpRequired = 100 × (1.5 ^ (statLevel - 1))`
- Rounded to nearest 5
- Base: 10 stat exp per training completion

**Examples:**

```
Level 1 → 2:    100 stat exp   (10 completions, ~5 min)
Level 2 → 3:    150 stat exp   (15 completions, ~7.5 min)
Level 3 → 4:    225 stat exp   (22.5 completions)
Level 5 → 6:    510 stat exp   (51 completions)
Level 10 → 11:  3,885 stat exp (388.5 completions)
Level 19 → 20:  ~75,000 stat exp (7,500 completions)
```

**Total to max one stat to level 20:** ~250,000 stat exp (~25,000 completions base)

---

### 2. Character Level → Stat Level Cap (5:1 Ratio)

Each character level unlocks **5 potential stat levels**.

**Progression:**

```
Character Level 1-2: No stat training available
Character Level 3:   15 stat levels available (3 × 5)
Character Level 4:   20 stat levels max (4 × 5) ← First retreat cap
Character Level 5:   25 stat levels max (after 1st retreat)
...
Character Level 20:  100 stat levels max (endgame)
```

**Rationale:**

- Clear gating prevents infinite stat grinding at low levels
- Retreat becomes mechanically necessary to progress stats
- Creates natural progression milestones

---

### 3. Training vs Meditation Split

**Training Page (Physical Stats) - Unlocks Level 3:**

- Strength
- Agility
- Willpower
- Endurance

**Meditation Page (Mental Stats) - Unlocks with Tomes of Magic:**

- Intelligence
- Wisdom
- **Not part of early game!** Mid-to-late unlock.

**Early game = 4 trainable stats only**

---

### 4. Character EXP Economy

**Character EXP is the universal currency for:**

1. Buying upgrades (permanent improvements)
2. Paying for stat training (resource sink)

**Stat Training Costs (Character EXP):**

- Formula: `trainingCost = 100 × (statLevel ^ 1.3)`

**Examples:**

```
Train Strength 1→2:   100 character exp
Train Strength 5→6:   900 character exp
Train Strength 10→11: 2,800 character exp
Train Strength 15→16: 6,600 character exp
Train Strength 20→21: 13,000 character exp
```

**Total to max ONE stat to level 20:** ~150,000 character exp
**Total to max FOUR stats to level 20:** ~600,000 character exp

**This creates meaningful trade-offs:**

- Spend 10k exp on "Training Speed Level 5" upgrade?
- Or spend 10k exp training Strength 50 times?
- Can't do both - must choose!

---

### 5. Progression Unlocks (Levels 1-4)

**Level 1:** Practice (clicking for character EXP)
**Level 2:** Training page + Ruminate (idle EXP generation)
**Level 3:** RPG stat training unlocks (Str/Agi/Will/End)
**Level 4:** First retreat available (level cap)
**Level 5:** Stat click mode unlocks (click-to-complete-faster)

**Character Level Costs:**

```
Level 1 → 2:  100 character exp
Level 2 → 3:  10,000 character exp (100x)
Level 3 → 4:  1,000,000 character exp (100x)
Level 4 → 5:  100,000,000 character exp (post-retreat)
```

**Discipline Upgrade:** Special upgrade (like level-up), provides 5x EXP gain on ALL sources. The "halfway boost" that makes 100x level gaps achievable.

---

## Complete Upgrade Tree (Levels 1-4)

### Design Philosophy

**Structure:**

- Many levels per upgrade (25-100 levels)
- Linear benefits per level (e.g., +1 exp/click each level)
- Exponential costs per level (1.5x multiplier)
- Post-retreat scaling comes from KP multipliers, not upgrade design

**Cost Formula:** `baseCost × (1.5 ^ upgradeLevel)`

---

### Category 1: Click Power (Level 1+)

#### Click Strength (Max Level 50)

- **Effect:** +1 exp per click per level
- **Base:** 1 exp/click → **Level 50:** 51 exp/click
- **Cost:** `50 × (1.5 ^ level)`
- **With Discipline (5x):** 255 exp/click at max

**Costs:**

```
Level 1:  50 exp
Level 10: 1,916 exp
Level 25: 252,594 exp
Level 50: 184,140,210 exp
Total to max: ~600 million exp
```

#### Critical Clicks (Max Level 25)

- **Effect:** +2% crit chance per level (2x exp on crit)
- **Base:** 0% → **Level 25:** 50% crit chance
- **Cost:** `200 × (1.5 ^ level)`
- **Unlocks:** Level 2

**Costs:**

```
Level 1:  200 exp
Level 10: 7,664 exp
Level 25: 1,010,375 exp
Total to max: ~4 million exp
```

**Early game target (Level 10 each):**

- 11 exp/click base
- 20% crit chance
- Average: 13.2 exp/click
- With Discipline: **66 exp/click**

---

### Category 2: Ruminate (Idle EXP) - Unlocks Level 2

**Ruminate** = Idle character EXP generation. Always available, never costs anything to run.

#### Ruminate Speed (Max Level 100)

- **Effect:** -0.1s per ruminate tick per level
- **Base:** 10s/tick → **Level 100:** 1s/tick
- **Cost:** `100 × (1.5 ^ level)`

**Costs:**

```
Level 1:   100 exp
Level 20:  332,946 exp
Level 50:  368,280,420 exp
Total to max: ~1.2 billion exp (long-term goal)
```

#### Ruminate Power (Max Level 50)

- **Effect:** +1 exp per tick per level
- **Base:** 10 exp/tick → **Level 50:** 60 exp/tick
- **Cost:** `500 × (1.5 ^ level)`
- **With Discipline (5x):** 300 exp/tick at max

**Costs:**

```
Level 1:  500 exp
Level 10: 19,158 exp
Level 25: 2,525,944 exp
Total to max: ~8 million exp
```

#### Ruminate Efficiency (Max Level 50)

- **Effect:** +2% ruminate exp gain per level (multiplicative)
- **Base:** 100% → **Level 50:** 200% (doubles exp)
- **Cost:** `1000 × (1.5 ^ level)`
- **Unlocks:** Level 3
- **Stacks with Discipline!** Level 50 + Discipline = 10x base

**Costs:**

```
Level 1:  1,000 exp
Level 10: 38,316 exp
Level 25: 5,051,888 exp
Total to max: ~16 million exp
```

**Early game target (Level 10-15):**

- Speed Level 10: 1 tick per 9 seconds
- Power Level 10: 20 exp/tick
- With Discipline: **100 exp/tick = 11 exp/second**

**Mid-game target (Level 25):**

- Speed Level 25: 1 tick per 7.5 seconds
- Power Level 25: 35 exp/tick
- Efficiency Level 25: +50% → 52.5 exp/tick
- With Discipline: **262.5 exp/tick = 35 exp/second**

**Endgame (Max all):**

- 60 base exp/tick × 2 (Efficiency) × 5 (Discipline) = **600 exp/tick at 1/second**
- **= 600 exp/second = 36,000 exp/minute = 2.16 MILLION exp/hour**

---

### Category 3: Stat Training - Unlocks Level 3

#### Training Speed (Max Level 50)

- **Effect:** -0.5s per training per level
- **Base:** 30s/training → **Level 50:** 5s/training
- **Cost:** `500 × (1.5 ^ level)`

**Costs:**

```
Level 1:  500 exp
Level 10: 19,158 exp
Level 25: 2,525,944 exp
Total to max: ~8 million exp
```

#### Training Efficiency (Max Level 50)

- **Effect:** -1% training character EXP cost per level
- **Base:** 100% cost → **Level 50:** 50% cost
- **Cost:** `1000 × (1.5 ^ level)`

**Costs:**

```
Level 1:  1,000 exp
Level 10: 38,316 exp
Level 25: 5,051,888 exp
Total to max: ~16 million exp
```

**Training Economics Example:**

```
Train Strength 1→2: Costs 100 character exp, gives 10 stat exp (10:1 ratio)
With Training Efficiency Level 10 (-10%): 90 character exp
With Stat Gain Level 10 (+10 stat exp): 90 character exp for 20 stat exp (4.5:1 ratio)
Upgraded training is 2x more efficient!
```

#### Stat Gain (Max Level 50)

- **Effect:** +1 stat exp per training per level
- **Base:** 10 stat exp → **Level 50:** 60 stat exp per training
- **Cost:** `2000 × (1.5 ^ level)`

**Costs:**

```
Level 1:  2,000 exp
Level 10: 76,632 exp
Level 25: 10,103,776 exp
Total to max: ~32 million exp
```

#### Perfect Form (Max Level 25)

- **Effect:** +2% crit chance per level (2x stat exp on crit)
- **Base:** 0% → **Level 25:** 50% crit chance
- **Cost:** `3000 × (1.5 ^ level)`
- **Unlocks:** Level 4

**Costs:**

```
Level 1:  3,000 exp
Level 10: 114,948 exp
Level 25: 15,155,664 exp
Total to max: ~48 million exp
```

---

## Pre-Retreat Progression Scenarios

### Speed Retreat (~2-3 hours)

**Goal:** Get first KP unlock ASAP

**Targets:**

- Click Strength Level 5 (~1,500 exp)
- Ruminate Power Level 5 (~5,000 exp)
- Minimal stat training (stats at level 5-6 each)
- **Total: ~50k character exp**

**Ruminate Income:** ~1.5 exp/second with Discipline
**Time:** 2-3 hours with some active clicking

---

### Balanced Retreat (~6-8 hours)

**Goal:** Comfortable power before first retreat

**Targets:**

- Click Strength Level 10-15
- Ruminate Speed Level 10-15
- Ruminate Power Level 10-15
- Training Speed Level 10
- Stat Gain Level 10
- Stats at level 10-12 each
- **Total: ~300k character exp**

**Ruminate Income:** ~5-8 exp/second with Discipline
**Time:** 6-8 hours

---

### Max Grind Retreat (~15-25 hours)

**Goal:** Squeeze every last KP from first run

**Targets:**

- Max key upgrades to level 20-25
- Train all 4 stats to level 20 (cap)
- **Total: ~1-2 million character exp**

**Ruminate Income:** ~15-20 exp/second with Discipline late
**Time:** Hardcore 15-25 hour session

**This creates player choice:** Fast retreats for KP count vs long grinds for big KP hauls.

---

## Stat Click Mode (Level 5+)

### Option A: Click-to-Complete-Faster (Initial Unlock)

**Mechanic:**

- Each click reduces current training timer by 1 second
- Max benefit: Click 30 times in 30 seconds = instant complete
- Creates "rhythm game" feel

**Unlocks:** Character Level 5

---

### Option C: Click-to-Multi-Train (Later Unlock)

**Mechanic:**

- Clicking trains ALL 4 stats simultaneously
- Each stat gains reduced exp (50% efficiency)
- Net result: 4 stats × 50% = 2x total stat exp throughput
- Requires active clicking to maximize

**Unlocks:** Later (maybe Character Level 10+)

**Progression:** Level 5 teaches single-stat efficiency, Level 10+ teaches multi-stat training.

---

## Retreat System Framework

**(Deferred to post-MVP implementation)**

### Knowledge Points (KP)

- Earned from Adventure Points (AP)
- AP comes from successful adventures
- AP → KP conversion happens at retreat
- KP unlocks permanent prestige upgrades

### Retreat Timing

- First retreat available at Character Level 4
- Can retreat immediately or grind stats for more rewards
- Antimatter Dimensions / Cookie Clicker style: push longer for more KP

### What You Lose on Retreat (Pre-Adventure Mode)

- Character level resets to 1
- Character EXP resets to 0
- Stat levels reset to 0
- All upgrades reset (but rebuyable with KP multipliers)

### What You Keep

- Knowledge Points (KP)
- Permanent KP upgrades
- Unlock new upgrade tiers at higher character levels

### Post-Retreat Scaling

- KP provides massive multipliers to progression
- Auto-buyers unlock after X retreats (not just KP cost)
- Forces balance: More KP per retreat vs more total retreats

### Future: Wizard Points

- Secondary prestige currency (post-Tome discovery)
- Massive bonuses to early game (accelerates retreats)
- Bonuses for finding tome pages
- Unlocks after significant progression

---

## Implementation Checklist

### Phase 1: Core Stat System

- [ ] Add stat EXP tracking (separate from stat level)
- [ ] Implement 1.5x exponential stat EXP curve
- [ ] Add stat EXP gain per training completion (base 10)
- [ ] Add character level → stat level cap (5:1 ratio)
- [ ] Update stat display to show level + EXP progress bar

### Phase 2: Training Economy

- [ ] Add character EXP cost to stat training
- [ ] Implement training cost formula (100 × statLevel^1.3)
- [ ] Add trade-off system (spend exp on upgrades OR training)

### Phase 3: Upgrade Restructuring

- [ ] Convert existing upgrades to multi-level system
- [ ] Implement 1.5x cost scaling per level
- [ ] Add new upgrades: Training Efficiency, Stat Gain, Perfect Form
- [ ] Set max levels for each upgrade (25-100)

### Phase 4: Ruminate System

- [ ] Ensure Ruminate unlocks at Level 2
- [ ] Set base: 10 exp/tick at 10s/tick
- [ ] Add Ruminate Speed, Power, Efficiency upgrades
- [ ] Ensure Discipline (5x) applies to Ruminate

### Phase 5: UI/UX (fronty-boi)

- [ ] Redesign upgrade interface for multi-level upgrades
- [ ] Add progress bars to stat display (level + exp)
- [ ] Refine stats page as game stats flesh out
- [ ] Visual feedback for training costs vs upgrade costs

### Phase 6: Balance Testing

- [ ] Test 2-3 hour speed retreat (should earn ~50k exp)
- [ ] Test 6-8 hour balanced retreat (should earn ~300k exp)
- [ ] Test 15-25 hour max grind (should max stats at level 20)
- [ ] Validate Discipline (5x) makes progression feel good

---

## Scaling Multiplier System (For designy-boi)

**Goal:** Make numbers scale into the millions for active play, while keeping idle at a smaller percentage.

**Requirements:**

- Clicking should eventually reach millions of exp per click
- Idle (Ruminate) should provide steady income but grow at a slower rate
- Need a tunable multiplier pattern that can be adjusted for feel
- This multiplier system could become an upgrade in mid-game ("Exponential Growth" upgrade?)

**Design Pattern Needed:**

- Centralized scaling multiplier system
- Separate multipliers for:
  - Click power scaling
  - Idle power scaling
  - Training efficiency scaling
  - Stat exp gain scaling
- Should be easily tunable via configuration
- Pattern should support post-retreat KP multipliers
- Consider: Base value × upgrade multiplier × prestige multiplier × special scaling multiplier

**Example Vision:**

```
Early game (pre-retreat):
- Click: 1 → 100 exp/click (with upgrades)
- Idle: 10 → 600 exp/second (with upgrades)

Mid game (after 5 retreats):
- Click: 100 → 100,000 exp/click (with KP multipliers)
- Idle: 600 → 6,000 exp/second (10x slower scaling)

Late game (after 15 retreats):
- Click: 100,000 → 10,000,000 exp/click (insane scaling)
- Idle: 6,000 → 60,000 exp/second (still useful, but click dominates)
```

**Mid-game Upgrade Idea:**
"Exponential Mastery" - Increases the scaling multiplier itself, making numbers grow even faster. Could have multiple levels that compound the ridiculousness.

**Action Item:** designy-boi to design a flexible multiplier architecture that supports:

1. Easy tuning of scaling rates
2. Different scaling rates per system (click vs idle vs training)
3. Integration with existing upgrade system
4. Support for future "scaling acceleration" upgrades

---

## Notes for Future Sessions

### Meditation Page (Deferred)

- Int/Wis training unlocks with Tomes of Magic
- Same structure as Training page
- Meditation actions require "techniques" from tomes

### Adventure Mechanics (Deferred)

- Unlocks around Level 3-4
- Generates Adventure Points (AP)
- AP spent on adventure-specific upgrades
- AP → KP conversion at retreat

### Stat Click Mode Level 5+ (Deferred)

- Click-to-complete-faster mechanic
- Later: Click-to-multi-train mechanic
- Needs balance vs idle training

### Post-Retreat Scaling (Deferred)

- KP multipliers for all exp sources
- Auto-buyers after X retreats
- Wizard Points (secondary prestige)

---

## Affected Systems

### Modified:

- Stat training system (complete redesign)
- Upgrade system (multi-level structure)
- Character EXP economy (now universal currency)

### New:

- Stat EXP tracking
- Character level → stat cap relationship
- Training cost system
- Ruminate upgrade tree

### Unchanged:

- Practice page (clicking)
- Discipline upgrade (already exists)
- Level-up upgrade (already exists)
- Basic theme system

---

## Next Steps

1. **Implementation Session:** Use `/thinky-time` to implement stat training redesign
2. **UI Session:** `/1:1 fronty-boi` to design upgrade interface and stats page
3. **Balance Testing:** Playtest 2-3 hour speed run to validate numbers
4. **Documentation:** Update `design/OUTLINE.md` with finalized stat system

---

**Session Status:** ✅ Design Complete, Ready for Implementation
